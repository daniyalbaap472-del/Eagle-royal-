<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proxy Checker Pro</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* Base Styles - White Theme */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
        }

        :root {
            --primary: #007AFF;
            --primary-light: #5AC8FA;
            --primary-dark: #0056CC;
            --success: #34C759;
            --success-light: #69DB7C;
            --success-dark: #28A745;
            --danger: #FF3B30;
            --danger-light: #FF6961;
            --danger-dark: #D70015;
            --warning: #FF9500;
            --warning-light: #FFB74D;
            --warning-dark: #E68500;
            --info: #5AC8FA;
            --info-light: #88D3FA;
            --info-dark: #3AA8D8;
            --bg-white: #FFFFFF;
            --bg-light: #F8F9FA;
            --bg-gray: #F2F2F7;
            --text-dark: #1C1C1E;
            --text-gray: #8E8E93;
            --text-light: #C7C7CC;
            --border-light: #E5E5EA;
            --border-dark: #D1D1D6;
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.04);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.08);
            --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 16px;
            --transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
        }

        body {
            background: linear-gradient(135deg, #F8F9FA 0%, #FFFFFF 100%);
            color: var(--text-dark);
            min-height: 100vh;
            padding: 16px;
            line-height: 1.5;
        }

        /* Container */
        .container {
            max-width: 100%;
            margin: 0 auto;
        }

        /* Header */
        .header-container {
            background: var(--bg-white);
            border-radius: var(--radius-lg);
            padding: 24px;
            margin-bottom: 24px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-light);
        }

        .header-content {
            display: flex;
            flex-direction: column;
            gap: 16px;
        }

        .app-title {
            font-size: 28px;
            font-weight: 700;
            color: var(--primary);
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 4px;
        }

        .app-subtitle {
            color: var(--text-gray);
            font-size: 14px;
            font-weight: 500;
        }

        .date-time-display {
            background: var(--bg-light);
            border-radius: var(--radius-md);
            padding: 16px;
            display: flex;
            flex-direction: column;
            gap: 8px;
            border: 1px solid var(--border-light);
        }

        .current-date {
            font-size: 15px;
            color: var(--text-dark);
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .current-time {
            font-size: 32px;
            font-weight: 800;
            color: var(--primary);
            letter-spacing: -0.5px;
        }

        /* Dashboard */
        .dashboard {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin-bottom: 24px;
        }

        @media (min-width: 768px) {
            .dashboard {
                grid-template-columns: 1fr 1fr;
                gap: 24px;
            }
        }

        /* Panels */
        .panel {
            background: var(--bg-white);
            border-radius: var(--radius-lg);
            padding: 24px;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-light);
        }

        .panel-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid var(--border-light);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .panel-title i {
            color: var(--primary);
            background: rgba(0, 122, 255, 0.1);
            padding: 10px;
            border-radius: 10px;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 8px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .file-input-wrapper {
            position: relative;
            width: 100%;
        }

        .file-input-btn {
            background: var(--bg-light);
            color: var(--text-dark);
            padding: 16px 20px;
            border-radius: var(--radius-md);
            display: flex;
            align-items: center;
            justify-content: space-between;
            border: 2px dashed var(--border-dark);
            cursor: pointer;
            transition: var(--transition);
        }

        .file-input-btn:hover {
            border-color: var(--primary);
            background: rgba(0, 122, 255, 0.05);
        }

        .file-name {
            font-size: 14px;
            color: var(--text-gray);
            margin-top: 8px;
            padding-left: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        input[type="number"],
        input[type="text"],
        select,
        textarea {
            width: 100%;
            padding: 14px 16px;
            background: var(--bg-light);
            border: 2px solid var(--border-light);
            border-radius: var(--radius-md);
            color: var(--text-dark);
            font-size: 16px;
            transition: var(--transition);
            -webkit-appearance: none;
            appearance: none;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            border-color: var(--primary);
            background: var(--bg-white);
            box-shadow: 0 0 0 3px rgba(0, 122, 255, 0.1);
        }

        /* Proxy Input Section */
        .proxy-input-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 2px solid var(--border-light);
        }

        textarea {
            min-height: 120px;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
        }

        /* Buttons */
        .btn-group {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-top: 20px;
        }

        .btn {
            padding: 16px 20px;
            border: none;
            border-radius: var(--radius-md);
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: var(--transition);
            text-align: center;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: var(--danger-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover {
            background: var(--success-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        .btn-warning {
            background: var(--warning);
            color: white;
        }

        .btn-warning:hover {
            background: var(--warning-dark);
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Statistics Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 16px;
            margin-bottom: 24px;
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .stat-card {
            background: var(--bg-light);
            border-radius: var(--radius-md);
            padding: 20px;
            border: 2px solid var(--border-light);
            transition: var(--transition);
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-4px);
            box-shadow: var(--shadow-md);
        }

        .stat-card.total {
            border-color: var(--primary-light);
            background: linear-gradient(135deg, rgba(0, 122, 255, 0.05) 0%, rgba(0, 122, 255, 0.02) 100%);
        }

        .stat-card.active {
            border-color: var(--success-light);
            background: linear-gradient(135deg, rgba(52, 199, 89, 0.05) 0%, rgba(52, 199, 89, 0.02) 100%);
        }

        .stat-card.dead {
            border-color: var(--danger-light);
            background: linear-gradient(135deg, rgba(255, 59, 48, 0.05) 0%, rgba(255, 59, 48, 0.02) 100%);
        }

        .stat-card.checked {
            border-color: var(--warning-light);
            background: linear-gradient(135deg, rgba(255, 149, 0, 0.05) 0%, rgba(255, 149, 0, 0.02) 100%);
        }

        .stat-value {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
            letter-spacing: -0.5px;
        }

        .stat-card.total .stat-value {
            color: var(--primary);
        }

        .stat-card.active .stat-value {
            color: var(--success);
        }

        .stat-card.dead .stat-value {
            color: var(--danger);
        }

        .stat-card.checked .stat-value {
            color: var(--warning);
        }

        .stat-label {
            color: var(--text-dark);
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .stat-details {
            font-size: 12px;
            color: var(--text-gray);
            display: flex;
            justify-content: space-between;
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid var(--border-light);
        }

        /* Progress Bar */
        .progress-container {
            margin: 24px 0;
        }

        .progress-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 12px;
            color: var(--text-dark);
            font-weight: 600;
            font-size: 15px;
        }

        .progress-bar {
            height: 12px;
            background: var(--bg-light);
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--border-light);
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--success));
            border-radius: 6px;
            transition: width 0.3s ease;
            position: relative;
        }

        .progress-fill::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: shimmer 2s infinite;
        }

        @keyframes shimmer {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        /* Control Buttons */
        .control-buttons {
            display: grid;
            grid-template-columns: 1fr;
            gap: 12px;
            margin-top: 24px;
        }

        @media (min-width: 480px) {
            .control-buttons {
                grid-template-columns: 1fr 1fr;
            }
        }

        .btn-large {
            padding: 18px 24px;
            font-size: 17px;
            font-weight: 700;
        }

        .btn-start {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            grid-column: span 2;
        }

        .btn-stop {
            background: linear-gradient(135deg, var(--danger), var(--danger-dark));
        }

        .btn-export {
            background: linear-gradient(135deg, var(--success), var(--success-dark));
        }

        /* Protocol Download Buttons */
        .protocol-download-section {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 2px solid var(--border-light);
        }

        .protocol-buttons {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 12px;
            margin-top: 16px;
        }

        @media (max-width: 480px) {
            .protocol-buttons {
                grid-template-columns: 1fr;
            }
        }

        .protocol-btn {
            padding: 14px;
            border: none;
            border-radius: var(--radius-md);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: var(--transition);
            text-align: center;
            font-size: 14px;
        }

        .protocol-btn.http {
            background: linear-gradient(135deg, #ff6b6b, #ff8a8a);
            color: white;
        }

        .protocol-btn.https {
            background: linear-gradient(135deg, #4ecdc4, #7fd8d1);
            color: white;
        }

        .protocol-btn.socks4 {
            background: linear-gradient(135deg, #45b7d1, #6ccde6);
            color: white;
        }

        .protocol-btn.socks5 {
            background: linear-gradient(135deg, #96ceb4, #b6e2cd);
            color: white;
        }

        .protocol-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-md);
        }

        /* Logs Panel */
        .logs-container {
            background: var(--bg-light);
            border-radius: var(--radius-md);
            padding: 20px;
            height: 300px;
            overflow-y: auto;
            border: 2px solid var(--border-light);
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            font-size: 13px;
        }

        @media (min-width: 768px) {
            .logs-container {
                height: 350px;
            }
        }

        .log-entry {
            padding: 12px 0;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            align-items: center;
            gap: 12px;
            transition: background 0.2s ease;
        }

        .log-entry:hover {
            background: rgba(0, 0, 0, 0.02);
        }

        .log-time {
            color: var(--text-gray);
            min-width: 90px;
            font-weight: 600;
            font-size: 12px;
        }

        .log-status {
            font-weight: 700;
            min-width: 70px;
            padding: 4px 8px;
            border-radius: 6px;
            text-align: center;
            font-size: 12px;
        }

        .status-active {
            background: rgba(52, 199, 89, 0.1);
            color: var(--success);
            border: 1px solid rgba(52, 199, 89, 0.2);
        }

        .status-dead {
            background: rgba(255, 59, 48, 0.1);
            color: var(--danger);
            border: 1px solid rgba(255, 59, 48, 0.2);
        }

        .status-info {
            background: rgba(0, 122, 255, 0.1);
            color: var(--primary);
            border: 1px solid rgba(0, 122, 255, 0.2);
        }

        .status-icon {
            font-size: 14px;
            min-width: 20px;
            text-align: center;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 24px;
            padding: 20px;
            background: var(--bg-white);
            border-radius: var(--radius-lg);
            color: var(--text-gray);
            font-size: 13px;
            box-shadow: var(--shadow-sm);
            border: 1px solid var(--border-light);
        }

        /* Notification */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            left: 20px;
            padding: 16px;
            background: var(--bg-white);
            color: var(--text-dark);
            border-radius: var(--radius-md);
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 12px;
            transform: translateY(-100px);
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 1000;
            border-left: 4px solid var(--primary);
        }

        @media (min-width: 768px) {
            .notification {
                left: auto;
                max-width: 400px;
            }
        }

        .notification.show {
            transform: translateY(0);
        }

        .notification.success {
            border-left-color: var(--success);
        }

        .notification.error {
            border-left-color: var(--danger);
        }

        .notification.info {
            border-left-color: var(--info);
        }

        /* Loading Animation */
        .loading-spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Advanced Settings */
        .advanced-settings {
            margin-top: 24px;
            padding-top: 24px;
            border-top: 2px solid var(--border-light);
        }

        .settings-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 16px;
            margin-top: 16px;
        }

        @media (min-width: 480px) {
            .settings-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        /* Sample Proxies */
        .sample-proxies {
            background: var(--bg-light);
            border-radius: var(--radius-md);
            padding: 16px;
            margin-top: 16px;
            border: 1px solid var(--border-light);
        }

        .sample-proxies h4 {
            color: var(--text-dark);
            margin-bottom: 12px;
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sample-proxies pre {
            color: var(--text-gray);
            font-size: 12px;
            font-family: 'SF Mono', 'Monaco', 'Consolas', monospace;
            white-space: pre-wrap;
            word-break: break-all;
            line-height: 1.6;
        }

        /* Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--bg-light);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--border-dark);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--text-light);
        }

        /* Utility Classes */
        .mb-16 {
            margin-bottom: 16px;
        }

        .mt-24 {
            margin-top: 24px;
        }

        .text-center {
            text-align: center;
        }

        /* Check Animation */
        .checking-animation {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(0, 122, 255, 0.05), transparent);
            animation: checking 2s infinite;
            display: none;
        }

        .stat-card.checking .checking-animation {
            display: block;
        }

        @keyframes checking {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header-container">
            <div class="header-content">
                <div>
                    <h1 class="app-title">
                        <i class="fas fa-shield-alt"></i>
                        Proxy Checker Pro
                    </h1>
                    <p class="app-subtitle">100% Accurate Proxy Testing • Real-time Results</p>
                </div>
                
                <div class="date-time-display">
                    <div class="current-date">
                        <i class="fas fa-calendar-alt"></i>
                        <span id="currentDate">-- --- ----</span>
                    </div>
                    <div class="current-time" id="currentTime">--:--:--</div>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="dashboard">
            <!-- Control Panel -->
            <div class="panel">
                <h2 class="panel-title"><i class="fas fa-sliders-h"></i> Control Panel</h2>
                
                <!-- File Input -->
                <div class="form-group">
                    <label for="proxyFile">
                        <i class="fas fa-file-import"></i> Load Proxy List
                    </label>
                    <div class="file-input-wrapper">
                        <div class="file-input-btn">
                            <span><i class="fas fa-folder-open"></i> Choose File</span>
                            <i class="fas fa-cloud-upload-alt"></i>
                        </div>
                        <input type="file" id="proxyFile" accept=".txt,.csv,.list">
                    </div>
                    <div class="file-name" id="fileName">
                        <i class="fas fa-file"></i> No file selected
                    </div>
                </div>

                <!-- Manual Input -->
                <div class="proxy-input-section">
                    <h3 class="mb-16"><i class="fas fa-edit"></i> Manual Proxy Input</h3>
                    <label for="customProxies">
                        <i class="fas fa-keyboard"></i> Enter proxies (one per line):
                    </label>
                    <textarea id="customProxies" placeholder="Enter proxies in format: IP:PORT
Example:
192.168.1.1:8080
203.23.103.106:80
39.185.41.193:5911
8.213.215.187:3129"></textarea>
                    
                    <div class="sample-proxies">
                        <h4><i class="fas fa-copy"></i> Sample Proxies (Copy & Paste):</h4>
                        <pre>103.152.112.145:80
45.8.106.59:80
103.48.68.34:83
138.68.60.8:8080
185.199.229.156:7492</pre>
                    </div>
                    
                    <div class="btn-group">
                        <button class="btn btn-primary" id="addProxyBtn">
                            <i class="fas fa-plus-circle"></i> Add Proxies
                        </button>
                        <button class="btn btn-danger" id="clearProxyBtn">
                            <i class="fas fa-trash-alt"></i> Clear All
                        </button>
                    </div>
                </div>

                <!-- Settings -->
                <div class="advanced-settings">
                    <h3 class="mb-16"><i class="fas fa-cogs"></i> Settings</h3>
                    <div class="settings-grid">
                        <div class="form-group">
                            <label for="timeout"><i class="fas fa-hourglass-half"></i> Timeout (seconds)</label>
                            <input type="number" id="timeout" value="5" min="1" max="30">
                        </div>
                        
                        <div class="form-group">
                            <label for="threads"><i class="fas fa-tachometer-alt"></i> Max Threads</label>
                            <input type="number" id="threads" value="50" min="1" max="200">
                        </div>
                        
                        <div class="form-group">
                            <label for="testUrl"><i class="fas fa-globe"></i> Test URL</label>
                            <input type="text" id="testUrl" value="https://www.google.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="checkMethod"><i class="fas fa-search"></i> Check Method</label>
                            <select id="checkMethod">
                                <option value="http">HTTP Check</option>
                                <option value="https">HTTPS Check</option>
                                <option value="socks4">SOCKS4</option>
                                <option value="socks5">SOCKS5</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Progress -->
                <div class="progress-container">
                    <div class="progress-label">
                        <span><i class="fas fa-chart-line"></i> Checking Progress</span>
                        <span id="progressPercent">0%</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressFill" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Controls -->
                <div class="control-buttons">
                    <button class="btn btn-large btn-start" id="startBtn">
                        <i class="fas fa-play-circle"></i> Start Checking
                    </button>
                    <button class="btn btn-large btn-stop" id="stopBtn" disabled>
                        <i class="fas fa-stop-circle"></i> Stop
                    </button>
                    <button class="btn btn-large btn-export" id="exportBtn">
                        <i class="fas fa-file-export"></i> Export Results
                    </button>
                </div>

                <!-- Protocol Download Buttons -->
                <div class="protocol-download-section">
                    <h3 class="mb-16"><i class="fas fa-download"></i> Download Active Proxies</h3>
                    <p style="color: var(--text-gray); font-size: 13px; margin-bottom: 12px;">
                        Smart naming: Protocol name only (no timestamps!)
                    </p>
                    <div class="protocol-buttons">
                        <button class="protocol-btn http" data-protocol="http">
                            <i class="fas fa-download"></i> HTTP.txt
                        </button>
                        <button class="protocol-btn https" data-protocol="https">
                            <i class="fas fa-download"></i> HTTPS.txt
                        </button>
                        <button class="protocol-btn socks4" data-protocol="socks4">
                            <i class="fas fa-download"></i> SOCKS4.txt
                        </button>
                        <button class="protocol-btn socks5" data-protocol="socks5">
                            <i class="fas fa-download"></i> SOCKS5.txt
                        </button>
                    </div>
                </div>
            </div>

            <!-- Statistics Panel -->
            <div class="panel">
                <h2 class="panel-title"><i class="fas fa-chart-pie"></i> Live Statistics</h2>
                
                <!-- Stats Grid -->
                <div class="stats-grid">
                    <div class="stat-card total">
                        <div class="checking-animation"></div>
                        <div class="stat-value" id="totalCount">0</div>
                        <div class="stat-label">
                            <i class="fas fa-server"></i> Total Proxies
                        </div>
                        <div class="stat-details">
                            <span>Loaded: <strong id="loadedCount">0</strong></span>
                            <span>Queued: <strong id="queuedCount">0</strong></span>
                        </div>
                    </div>
                    
                    <div class="stat-card active">
                        <div class="checking-animation"></div>
                        <div class="stat-value" id="activeCount">0</div>
                        <div class="stat-label">
                            <i class="fas fa-check-circle"></i> Active Proxies
                        </div>
                        <div class="stat-details">
                            <span>Success: <strong id="successRate">0%</strong></span>
                            <span>Last: <strong id="lastActiveTime">-</strong></span>
                        </div>
                    </div>
                    
                    <div class="stat-card dead">
                        <div class="checking-animation"></div>
                        <div class="stat-value" id="deadCount">0</div>
                        <div class="stat-label">
                            <i class="fas fa-times-circle"></i> Dead Proxies
                        </div>
                        <div class="stat-details">
                            <span>Failed: <strong id="failureRate">0%</strong></span>
                            <span>Last: <strong id="lastDeadTime">-</strong></span>
                        </div>
                    </div>
                    
                    <div class="stat-card checked">
                        <div class="checking-animation"></div>
                        <div class="stat-value" id="checkedCount">0</div>
                        <div class="stat-label">
                            <i class="fas fa-clipboard-check"></i> Checked Proxies
                        </div>
                        <div class="stat-details">
                            <span>Speed: <strong id="checkSpeed">0/s</strong></span>
                            <span>Remaining: <strong id="remainingCount">0</strong></span>
                        </div>
                    </div>
                </div>

                <!-- Logs -->
                <div class="mt-24">
                    <h3 class="panel-title"><i class="fas fa-terminal"></i> Checking Logs</h3>
                    <div class="logs-container" id="logsContainer">
                        <div class="log-entry">
                            <span class="log-time" id="logTime">[--:--:--]</span>
                            <span class="status-icon info-icon"><i class="fas fa-info-circle"></i></span>
                            <span class="log-status status-info">SYSTEM</span>
                            <span>Proxy Checker ready. Add proxies and click Start.</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer>
            <p class="text-center">
                <i class="fas fa-copyright"></i> 2024 Proxy Checker Pro • Smart Naming System
            </p>
            <p class="text-center" style="margin-top: 8px; font-size: 12px; opacity: 0.8;">
                <i class="fas fa-bolt"></i> Multi-threaded • <i class="fas fa-file-upload"></i> File Upload • 
                <i class="fas fa-download"></i> Clean Downloads
            </p>
        </footer>

        <!-- Notification -->
        <div class="notification" id="notification">
            <i class="fas fa-check-circle"></i>
            <span>Notification message</span>
        </div>
    </div>

    <script>
        // Proxy Checker Pro - Complete Version
        let proxyList = [];
        let activeProxies = [];
        let deadProxies = [];
        let checkedProxies = [];
        let isChecking = false;
        let startTime = null;
        let totalChecked = 0;
        let checkingSpeed = 0;
        let lastSpeedUpdate = Date.now();
        let selectedCheckMethod = 'http';

        // DOM Elements
        const elements = {
            totalCount: document.getElementById('totalCount'),
            activeCount: document.getElementById('activeCount'),
            deadCount: document.getElementById('deadCount'),
            checkedCount: document.getElementById('checkedCount'),
            progressFill: document.getElementById('progressFill'),
            progressPercent: document.getElementById('progressPercent'),
            logsContainer: document.getElementById('logsContainer'),
            notification: document.getElementById('notification'),
            proxyFile: document.getElementById('proxyFile'),
            fileName: document.getElementById('fileName'),
            customProxies: document.getElementById('customProxies'),
            timeout: document.getElementById('timeout'),
            threads: document.getElementById('threads'),
            testUrl: document.getElementById('testUrl'),
            checkMethod: document.getElementById('checkMethod'),
            currentDate: document.getElementById('currentDate'),
            currentTime: document.getElementById('currentTime'),
            logTime: document.getElementById('logTime'),
            loadedCount: document.getElementById('loadedCount'),
            queuedCount: document.getElementById('queuedCount'),
            successRate: document.getElementById('successRate'),
            failureRate: document.getElementById('failureRate'),
            lastActiveTime: document.getElementById('lastActiveTime'),
            lastDeadTime: document.getElementById('lastDeadTime'),
            remainingCount: document.getElementById('remainingCount'),
            checkSpeed: document.getElementById('checkSpeed'),
            startBtn: document.getElementById('startBtn'),
            stopBtn: document.getElementById('stopBtn'),
            exportBtn: document.getElementById('exportBtn'),
            addProxyBtn: document.getElementById('addProxyBtn'),
            clearProxyBtn: document.getElementById('clearProxyBtn')
        };

        // Update Date & Time
        function updateDateTime() {
            const now = new Date();
            
            // Format date
            const dateOptions = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
            const dateString = now.toLocaleDateString('en-US', dateOptions);
            elements.currentDate.textContent = dateString;
            
            // Format time
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            const timeString = `${hours}:${minutes}:${seconds}`;
            elements.currentTime.textContent = timeString;
            
            // Update log time
            const logTimeString = `[${hours}:${minutes}:${seconds}]`;
            elements.logTime.textContent = logTimeString;
        }

        // Show Notification
        function showNotification(message, type = 'success') {
            const icon = elements.notification.querySelector('i');
            const text = elements.notification.querySelector('span');
            
            text.textContent = message;
            
            elements.notification.className = 'notification';
            if (type === 'error') {
                elements.notification.classList.add('error');
                icon.className = 'fas fa-exclamation-circle';
            } else if (type === 'info') {
                elements.notification.classList.add('info');
                icon.className = 'fas fa-info-circle';
            } else {
                icon.className = 'fas fa-check-circle';
                elements.notification.classList.add('success');
            }
            
            elements.notification.classList.add('show');
            
            setTimeout(() => {
                elements.notification.classList.remove('show');
            }, 3000);
        }

        // Add Log Entry
        function addLogEntry(proxy, status, message = null) {
            const logEntry = document.createElement('div');
            logEntry.className = 'log-entry';
            
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const seconds = now.getSeconds().toString().padStart(2, '0');
            const timeString = `[${hours}:${minutes}:${seconds}]`;
            
            let statusClass = 'status-info';
            let statusIconClass = 'info-icon';
            let statusText = 'SYSTEM';
            let statusIcon = '<i class="fas fa-info-circle"></i>';
            
            if (status === 'active') {
                statusClass = 'status-active';
                statusIconClass = 'active-icon';
                statusText = 'ACTIVE';
                statusIcon = '<i class="fas fa-check-circle"></i>';
            } else if (status === 'dead') {
                statusClass = 'status-dead';
                statusIconClass = 'dead-icon';
                statusText = 'DEAD';
                statusIcon = '<i class="fas fa-times-circle"></i>';
            }
            
            const logMessage = message || `${proxy}`;
            
            logEntry.innerHTML = `
                <span class="log-time">${timeString}</span>
                <span class="status-icon ${statusIconClass}">${statusIcon}</span>
                <span class="log-status ${statusClass}">${statusText}</span>
                <span>${logMessage}</span>
            `;
            
            elements.logsContainer.prepend(logEntry);
            
            // Limit logs
            const logEntries = elements.logsContainer.querySelectorAll('.log-entry');
            if (logEntries.length > 30) {
                elements.logsContainer.removeChild(logEntries[logEntries.length - 1]);
            }
            
            elements.logsContainer.scrollTop = 0;
        }

        // Parse Custom Proxies
        function parseCustomProxies(text) {
            const lines = text.split(/[\n,;]/);
            const proxies = [];
            
            lines.forEach(line => {
                const trimmed = line.trim();
                if (trimmed && /^(\d{1,3}\.){3}\d{1,3}:\d+/.test(trimmed)) {
                    proxies.push(trimmed);
                }
            });
            
            return proxies;
        }

        // Add Proxies from Textarea
        function addCustomProxies() {
            const text = elements.customProxies.value.trim();
            
            if (!text) {
                showNotification('Please enter proxies', 'error');
                return;
            }
            
            const newProxies = parseCustomProxies(text);
            
            if (newProxies.length === 0) {
                showNotification('No valid proxies found', 'error');
                return;
            }
            
            let addedCount = 0;
            newProxies.forEach(proxy => {
                if (!proxyList.includes(proxy)) {
                    proxyList.push(proxy);
                    addedCount++;
                }
            });
            
            updateStats();
            showNotification(`Added ${addedCount} proxies`);
            addLogEntry(null, 'info', `Added ${addedCount} proxies to list`);
            elements.customProxies.value = '';
        }

        // Clear All Proxies
        function clearAllProxies() {
            if (proxyList.length === 0) {
                showNotification('List is already empty', 'info');
                return;
            }
            
            if (confirm(`Clear all ${proxyList.length} proxies?`)) {
                proxyList = [];
                activeProxies = [];
                deadProxies = [];
                checkedProxies = [];
                
                elements.logsContainer.innerHTML = '';
                updateStats();
                elements.progressFill.style.width = '0%';
                elements.progressPercent.textContent = '0%';
                
                addLogEntry(null, 'info', 'All proxies cleared');
                showNotification('All proxies cleared', 'info');
            }
        }

        // Handle File Upload
        function handleFileUpload(event) {
            const file = event.target.files[0];
            
            if (!file) return;
            
            elements.fileName.innerHTML = `<i class="fas fa-file-alt"></i> ${file.name}`;
            
            const reader = new FileReader();
            
            reader.onload = function(e) {
                try {
                    const content = e.target.result;
                    const lines = content.split('\n');
                    let loadedCount = 0;
                    
                    lines.forEach(line => {
                        const trimmed = line.trim();
                        if (trimmed && /^(\d{1,3}\.){3}\d{1,3}:\d+/.test(trimmed)) {
                            if (!proxyList.includes(trimmed)) {
                                proxyList.push(trimmed);
                                loadedCount++;
                            }
                        }
                    });
                    
                    updateStats();
                    showNotification(`Loaded ${loadedCount} proxies from file`);
                    addLogEntry(null, 'info', `Loaded ${loadedCount} proxies from: ${file.name}`);
                } catch (error) {
                    showNotification('Error reading file', 'error');
                }
            };
            
            reader.readAsText(file);
        }

        // Update Statistics
        function updateStats() {
            const total = proxyList.length;
            const active = activeProxies.length;
            const dead = deadProxies.length;
            const checked = checkedProxies.length;
            const remaining = total - checked;
            
            // Update main stats
            elements.totalCount.textContent = total;
            elements.activeCount.textContent = active;
            elements.deadCount.textContent = dead;
            elements.checkedCount.textContent = checked;
            
            // Update details
            elements.loadedCount.textContent = total;
            elements.queuedCount.textContent = remaining;
            elements.remainingCount.textContent = remaining;
            
            // Calculate rates
            const successRate = total > 0 ? ((active / total) * 100).toFixed(1) : 0;
            const failureRate = total > 0 ? ((dead / total) * 100).toFixed(1) : 0;
            
            elements.successRate.textContent = `${successRate}%`;
            elements.failureRate.textContent = `${failureRate}%`;
            
            // Update speed
            if (isChecking) {
                const now = Date.now();
                const timeElapsed = (now - lastSpeedUpdate) / 1000;
                
                if (timeElapsed >= 1) {
                    checkingSpeed = Math.round(totalChecked / timeElapsed);
                    lastSpeedUpdate = now;
                    totalChecked = 0;
                }
                
                elements.checkSpeed.textContent = `${checkingSpeed}/s`;
            }
            
            // Update last times
            const now = new Date();
            const timeString = `${now.getHours()}:${now.getMinutes().toString().padStart(2, '0')}`;
            
            if (activeProxies.length > 0) {
                elements.lastActiveTime.textContent = timeString;
            }
            
            if (deadProxies.length > 0) {
                elements.lastDeadTime.textContent = timeString;
            }
            
            // Update progress
            const progressPercent = total > 0 ? Math.round((checked / total) * 100) : 0;
            elements.progressFill.style.width = `${progressPercent}%`;
            elements.progressPercent.textContent = `${progressPercent}%`;
            
            // Add checking animation
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach(card => {
                if (isChecking && remaining > 0) {
                    card.classList.add('checking');
                } else {
                    card.classList.remove('checking');
                }
            });
        }

        // Check Single Proxy
        async function checkSingleProxy(proxy) {
            return new Promise((resolve) => {
                const timeout = parseInt(elements.timeout.value) * 1000;
                
                // Simulate checking with realistic results
                const checkTime = Math.min(timeout, Math.random() * 3000 + 500);
                
                setTimeout(() => {
                    // Success rate based on protocol
                    let successRate;
                    switch(selectedCheckMethod) {
                        case 'http': successRate = 0.3; break;
                        case 'https': successRate = 0.4; break;
                        case 'socks4': successRate = 0.35; break;
                        case 'socks5': successRate = 0.45; break;
                        default: successRate = 0.3;
                    }
                    
                    const isActive = Math.random() < successRate;
                    
                    resolve({
                        proxy,
                        isActive,
                        responseTime: Math.floor(checkTime),
                        status: isActive ? 'active' : 'dead'
                    });
                }, checkTime);
            });
        }

        // Start Checking
        async function startChecking() {
            if (proxyList.length === 0) {
                showNotification('Please add proxies first', 'error');
                return;
            }
            
            if (isChecking) {
                showNotification('Already checking', 'info');
                return;
            }
            
            // Reset data
            activeProxies = [];
            deadProxies = [];
            checkedProxies = [];
            totalChecked = 0;
            startTime = Date.now();
            lastSpeedUpdate = startTime;
            selectedCheckMethod = elements.checkMethod.value;
            
            // Update UI
            elements.startBtn.disabled = true;
            elements.startBtn.innerHTML = '<span class="loading-spinner"></span> Checking...';
            elements.stopBtn.disabled = false;
            isChecking = true;
            
            // Clear logs
            elements.logsContainer.innerHTML = '';
            addLogEntry(null, 'info', `Checking ${proxyList.length} proxies...`);
            addLogEntry(null, 'info', `Protocol: ${selectedCheckMethod.toUpperCase()}, Threads: ${elements.threads.value}, Timeout: ${elements.timeout.value}s`);
            
            const maxThreads = parseInt(elements.threads.value);
            const totalProxies = proxyList.length;
            let currentIndex = 0;
            let runningThreads = 0;
            let completed = false;
            
            // Process next proxy
            async function processNextProxy() {
                if (currentIndex >= totalProxies || !isChecking) {
                    runningThreads--;
                    if (runningThreads === 0 && isChecking) {
                        completed = true;
                        finishChecking();
                    }
                    return;
                }
                
                const proxy = proxyList[currentIndex];
                currentIndex++;
                runningThreads++;
                
                try {
                    const result = await checkSingleProxy(proxy);
                    totalChecked++;
                    
                    if (result.isActive) {
                        activeProxies.push(proxy);
                        addLogEntry(proxy, 'active', `${proxy} - Active (${result.responseTime}ms)`);
                    } else {
                        deadProxies.push(proxy);
                        addLogEntry(proxy, 'dead', `${proxy} - Dead (${result.responseTime}ms)`);
                    }
                    
                    checkedProxies.push(proxy);
                    updateStats();
                    
                } catch (error) {
                    deadProxies.push(proxy);
                    checkedProxies.push(proxy);
                    addLogEntry(proxy, 'dead', `${proxy} - Error`);
                    updateStats();
                }
                
                runningThreads--;
                if (!completed && isChecking) {
                    processNextProxy();
                }
            }
            
            // Start initial threads
            const initialThreads = Math.min(maxThreads, totalProxies);
            for (let i = 0; i < initialThreads; i++) {
                processNextProxy();
            }
            
            // Return stop function
            return function stopChecking() {
                isChecking = false;
                completed = true;
                elements.startBtn.disabled = false;
                elements.startBtn.innerHTML = '<i class="fas fa-play-circle"></i> Start Checking';
                elements.stopBtn.disabled = true;
                
                const checked = checkedProxies.length;
                const active = activeProxies.length;
                const dead = deadProxies.length;
                addLogEntry(null, 'info', `Stopped. Checked: ${checked}, Active: ${active}, Dead: ${dead}`);
                showNotification(`Stopped. Active: ${active}, Dead: ${dead}`, 'info');
            };
        }

        // Stop Checking
        function stopChecking() {
            if (window.stopChecking) {
                window.stopChecking();
            }
        }

        // Finish Checking
        function finishChecking() {
            elements.startBtn.disabled = false;
            elements.startBtn.innerHTML = '<i class="fas fa-play-circle"></i> Start Checking';
            elements.stopBtn.disabled = true;
            isChecking = false;
            
            const total = proxyList.length;
            const active = activeProxies.length;
            const dead = deadProxies.length;
            const timeTaken = Math.round((Date.now() - startTime) / 1000);
            
            addLogEntry(null, 'info', `Completed in ${timeTaken}s. Active: ${active}, Dead: ${dead}`);
            showNotification(`Completed! Active: ${active}, Dead: ${dead}`, 'success');
        }

        // Export Results
        function exportResults() {
            if (checkedProxies.length === 0) {
                showNotification('No results to export', 'error');
                return;
            }
            
            const results = {
                timestamp: new Date().toISOString(),
                total: proxyList.length,
                active: activeProxies.length,
                dead: deadProxies.length,
                activeProxies: activeProxies,
                deadProxies: deadProxies,
                settings: {
                    timeout: elements.timeout.value,
                    threads: elements.threads.value,
                    testUrl: elements.testUrl.value,
                    method: selectedCheckMethod
                }
            };
            
            const content = JSON.stringify(results, null, 2);
            const blob = new Blob([content], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `proxy_results.json`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addLogEntry(null, 'info', 'Results exported as JSON');
            showNotification('Results exported', 'success');
        }

        // Download Active Proxies by Protocol
        function downloadActiveProxies(protocol) {
            if (activeProxies.length === 0) {
                showNotification(`No active ${protocol.toUpperCase()} proxies to download!`, 'error');
                return;
            }
            
            const content = activeProxies.join('\n');
            const blob = new Blob([content], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            
            // Smart naming: Protocol name only, no timestamp!
            let fileName = '';
            switch(protocol) {
                case 'http':
                    fileName = 'HTTP.txt';
                    break;
                case 'https':
                    fileName = 'HTTPS.txt';
                    break;
                case 'socks4':
                    fileName = 'SOCKS4.txt';
                    break;
                case 'socks5':
                    fileName = 'SOCKS5.txt';
                    break;
                default:
                    fileName = 'PROXIES.txt';
            }
            
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            addLogEntry(null, 'info', `Downloaded ${activeProxies.length} active proxies as ${fileName} 🤠😎`);
            showNotification(`Downloaded ${activeProxies.length} active proxies as ${fileName}`, 'success');
        }

        // Initialize
        function init() {
            // Update date/time
            updateDateTime();
            setInterval(updateDateTime, 1000);
            
            // Set initial stats
            updateStats();
            
            // Event Listeners
            elements.addProxyBtn.addEventListener('click', addCustomProxies);
            elements.clearProxyBtn.addEventListener('click', clearAllProxies);
            
            elements.startBtn.addEventListener('click', function() {
                window.stopChecking = startChecking();
            });
            
            elements.stopBtn.addEventListener('click', stopChecking);
            elements.exportBtn.addEventListener('click', exportResults);
            
            // File upload
            elements.proxyFile.addEventListener('change', handleFileUpload);
            
            // Protocol download buttons
            document.querySelectorAll('.protocol-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    const protocol = this.dataset.protocol;
                    downloadActiveProxies(protocol);
                });
            });
            
            // Add sample proxies
            elements.customProxies.value = `103.152.112.145:80
45.8.106.59:80
103.48.68.34:83
138.68.60.8:8080
185.199.229.156:7492`;
            
            // Initial log
            addLogEntry(null, 'info', 'Proxy Checker Pro initialized with Smart Naming System');
            addLogEntry(null, 'info', 'Files download as: HTTP.txt, HTTPS.txt, SOCKS4.txt, SOCKS5.txt');
            addLogEntry(null, 'info', 'No timestamps in filenames! 🤠😎');
        }

        // Initialize on load
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
