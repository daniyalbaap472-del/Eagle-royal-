<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vidstack Player Example</title>
    
    <!-- Vidstack Player Styles -->
    <link rel="stylesheet" href="https://cdn.vidstack.io/player/theme.css" />
    <link rel="stylesheet" href="https://cdn.vidstack.io/player/video.css" />
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #121212;
            color: #e0e0e0;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }
        
        .player-container {
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }
        
        h1 {
            color: #FF5722;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .player-selector {
            margin: 15px 0;
            display: flex;
            gap: 10px;
        }
        
        .player-btn {
            padding: 10px 20px;
            background-color: #333;
            color: #e0e0e0;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .player-btn.active {
            background-color: #FF5722;
        }
        
        .simple-player {
            display: none;
            width: 100%;
            background-color: #000;
            border-radius: 12px;
            overflow: hidden;
        }
        
        .simple-player video {
            width: 100%;
            height: auto;
            max-height: 450px;
        }
        
        .simple-controls {
            padding: 10px;
            background-color: #1e1e1e;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .simple-controls button {
            background: none;
            border: none;
            color: #e0e0e0;
            cursor: pointer;
            font-size: 16px;
        }
        
        .progress-container {
            flex-grow: 1;
            height: 5px;
            background-color: #333;
            border-radius: 5px;
            cursor: pointer;
            position: relative;
        }
        
        .progress-bar {
            height: 100%;
            background-color: #FF5722;
            border-radius: 5px;
            width: 0%;
        }
        
        .time-display {
            font-size: 14px;
            color: #b0b0b0;
            min-width: 100px;
            text-align: center;
        }
    </style>
</head>
<body>
    <h1>Sprite Fight Video Player</h1>
    
    <div class="player-selector">
        <button class="player-btn active" id="vidstack-btn">Vidstack Player</button>
        <button class="player-btn" id="simple-btn">Simple Player</button>
    </div>
    
    <div class="player-container">
        <media-player 
            id="vidstack-player"
            playsinline 
            load="visible" 
            poster-load="idle" 
            title="Sprite Fight"
            style="--media-brand: #FF5722;"
        >
            <media-provider>
                <source src="https://files.vidstack.io/sprite-fight/720p.mp4" type="video/mp4" />
                <track kind="captions" label="English" srclang="en-US" 
                       src="https://files.vidstack.io/sprite-fight/subs/english.vtt" default />
                <track kind="captions" label="Spanish" srclang="es-ES" 
                       src="https://files.vidstack.io/sprite-fight/subs/spanish.vtt" />
            </media-provider>
            
            <!-- Poster Image -->
            <media-poster class="vds-poster" 
                         src="https://files.vidstack.io/sprite-fight/poster.webp" 
                         alt="Girl walks into campfire with gnomes surrounding her friend ready for their next meal!">
            </media-poster>
            
            <!-- Player UI Layout -->
            <media-video-layout 
                thumbnails="https://files.vidstack.io/sprite-fight/thumbnails.vtt"
            ></media-video-layout>
        </media-player>
        
        <div class="simple-player" id="simple-player">
            <video id="basic-video" poster="https://files.vidstack.io/sprite-fight/poster.webp">
                <source src="https://files.vidstack.io/sprite-fight/720p.mp4" type="video/mp4">
                Your browser does not support the video tag.
            </video>
            <div class="simple-controls">
                <button id="play-pause">‚ñ∂</button>
                <div class="progress-container" id="progress-container">
                    <div class="progress-bar" id="progress-bar"></div>
                </div>
                <div class="time-display" id="time-display">0:00 / 0:00</div>
                <button id="mute">üîä</button>
                <button id="fullscreen">‚õ∂</button>
            </div>
        </div>
    </div>

    <!-- Vidstack Player Script -->
    <script src="https://cdn.vidstack.io/player" type="module"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Get elements
            const vidstackBtn = document.getElementById('vidstack-btn');
            const simpleBtn = document.getElementById('simple-btn');
            const vidstackPlayer = document.getElementById('vidstack-player');
            const simplePlayer = document.getElementById('simple-player');
            
            const video = document.getElementById('basic-video');
            const playPauseBtn = document.getElementById('play-pause');
            const muteBtn = document.getElementById('mute');
            const fullscreenBtn = document.getElementById('fullscreen');
            const progressBar = document.getElementById('progress-bar');
            const progressContainer = document.getElementById('progress-container');
            const timeDisplay = document.getElementById('time-display');
            
            // Player switching
            vidstackBtn.addEventListener('click', () => {
                vidstackBtn.classList.add('active');
                simpleBtn.classList.remove('active');
                vidstackPlayer.style.display = 'block';
                simplePlayer.style.display = 'none';
            });
            
            simpleBtn.addEventListener('click', () => {
                simpleBtn.classList.add('active');
                vidstackBtn.classList.remove('active');
                simplePlayer.style.display = 'block';
                vidstackPlayer.style.display = 'none';
            });
            
            // Simple player functionality
            function togglePlay() {
                if (video.paused) {
                    video.play();
                    playPauseBtn.textContent = '‚è∏';
                } else {
                    video.pause();
                    playPauseBtn.textContent = '‚ñ∂';
                }
            }
            
            function updateProgress() {
                const percent = (video.currentTime / video.duration) * 100;
                progressBar.style.width = `${percent}%`;
                
                // Update time display
                const currentTime = formatTime(video.currentTime);
                const duration = formatTime(video.duration);
                timeDisplay.textContent = `${currentTime} / ${duration}`;
            }
            
            function formatTime(seconds) {
                const minutes = Math.floor(seconds / 60);
                seconds = Math.floor(seconds % 60);
                return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            }
            
            function setProgress(e) {
                const width = progressContainer.clientWidth;
                const clickX = e.offsetX;
                const duration = video.duration;
                video.currentTime = (clickX / width) * duration;
            }
            
            function toggleMute() {
                video.muted = !video.muted;
                muteBtn.textContent = video.muted ? 'üîá' : 'üîä';
            }
            
            function toggleFullscreen() {
                if (!document.fullscreenElement) {
                    if (simplePlayer.requestFullscreen) {
                        simplePlayer.requestFullscreen();
                    } else if (simplePlayer.webkitRequestFullscreen) {
                        simplePlayer.webkitRequestFullscreen();
                    } else if (simplePlayer.msRequestFullscreen) {
                        simplePlayer.msRequestFullscreen();
                    }
                } else {
                    if (document.exitFullscreen) {
                        document.exitFullscreen();
                    } else if (document.webkitExitFullscreen) {
                        document.webkitExitFullscreen();
                    } else if (document.msExitFullscreen) {
                        document.msExitFullscreen();
                    }
                }
            }
            
            // Event listeners for simple player
            playPauseBtn.addEventListener('click', togglePlay);
            video.addEventListener('click', togglePlay);
            video.addEventListener('timeupdate', updateProgress);
            progressContainer.addEventListener('click', setProgress);
            muteBtn.addEventListener('click', toggleMute);
            fullscreenBtn.addEventListener('click', toggleFullscreen);
            
            // Initialize time display
            video.addEventListener('loadedmetadata', function() {
                timeDisplay.textContent = `0:00 / ${formatTime(video.duration)}`;
            });
        });
    </script>
</body>
</html>
